import{u as g,r as o,j as x,a as e,G as b,b as S,c as v,d as w,F as N,s as k,S as C,M as j,e as L}from"./index-b3280b4d.js";const F=({setQuery:t})=>{const{category:l}=g(),[s,n]=o.useState("");return x("form",{className:"text-[14px] lg:py-10 md:pt-9 md:pb-10 sm:pt-8 sm:pb-10  pt-6 pb-8 flex flex-row items-center justify-center",onSubmit:a=>{a.preventDefault(),s&&(t({search:s}),n(""))},children:[e("input",{type:"text",className:"py-[8px] pl-[20px] pr-[36px]  rounded-full outline-none w-[300px] md:w-[340px]  shadow-md transition-all duration-300 focus:shadow-sm text-[#666] focus:bg-[#ffffff] bg-[#fdfdfd] font-medium dark:bg-[#302d3a] dark:text-primary dark:focus:bg-[#474550]",onChange:a=>n(a.target.value),value:s,placeholder:`Search ${l==="movie"?"movies":"tv series"}`}),e("button",{type:"submit",className:"text-[18px] -ml-[32px] text-[#ff0000] z-[1]",children:e(b,{})})]})},M=({category:t})=>e("div",{style:{backgroundImage:`linear-gradient(to right, rgba(0,0,0,0.075), rgba(0,0,0,0.075)), url(${S})`,backgroundSize:"cover",backgroundPosition:"center"},className:"lg:h-[140px] md:h-[132px] sm:h-[114px] h-[96px] relative",children:e("h2",{className:"text-white font-nunito capitalize font-semibold md:text-xl sm:text-lg absolute md:top-[70%] sm:top-[65%] xs:top-[60%] top-[57.75%]  left-1/2 -translate-x-1/2  ",children:t==="movie"?"movies":"TV series"})}),z=()=>{const[t,l]=o.useState(1),[s,n]=o.useState([]),[m,a]=o.useState(!1),[u,h]=v(),{category:i}=g(),y=u.get("type")||"popular",f=u.get("search")||"",{data:r,isLoading:p,isFetching:c}=w({category:i,page:t,searchQuery:f,type:y});return o.useEffect(()=>{l(1),a(!0)},[i,f]),o.useEffect(()=>{p||c||r!=null&&r.results&&(t>1?n(d=>[...d,...r.results]):(n([...r.results]),a(!1)))},[r,c,p,t]),x(N,{children:[e(M,{category:String(i)}),x("section",{className:`${k} `,children:[e(F,{setQuery:h}),p||m?e(C,{isMoviesSliderLoader:!1}):e("div",{className:"flex flex-wrap xs:gap-4 gap-[14px] justify-center",children:s==null?void 0:s.map(d=>e("div",{className:"flex flex-col xs:gap-4 gap-2 xs:max-w-[170px] max-w-[124px] rounded-lg lg:mb-6 md:mb-5 sm:mb-4 mb-[10px]",children:e(j,{movie:d,category:String(i)})},d.id))}),c&&!m?e("div",{className:"my-4",children:e(L,{className:"mx-auto dark:text-gray-300 w-5 h-5 animate-spin"})}):e("div",{className:"w-full flex items-center justify-center",children:e("button",{type:"button",onClick:()=>{l(t+1)},disabled:c,className:"sm:py-2 xs:py-[6px] py-1 sm:px-4 xs:px-3 px-[10.75px] bg-[#ff0000] text-gray-50 rounded-full md:text-[15.25px] sm:text-[14.75px] xs:text-[14px] text-[12.75px] shadow-md hover:-translate-y-1 transition-all duration-300 font-medium font-nunito my-4",children:"Load more"})})]})]})};export{z as default};
